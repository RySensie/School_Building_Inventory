{{> admin-sidenav dashboard=true}}
<div class="main-content" id="panel">
  {{> admin-topnav dashboard=true mode=primary}}
  <!-- Page content -->
  <div class="header bg-primary pb-6">
    <div class="container-fluid">
      <div class="header-body">
        <!-- Card stats -->
        <div class="row">
          <div class="col-xl-3 col-md-6">
            <div class="card card-stats">
              <!-- Card body -->
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-blue mb-0">
                      School
                    </h5>
                    <span class="h2 font-weight-bold mb-0">{{total_school}}</span>
                  </div>
                  <div class="col-auto">
                    <div class="
                        icon icon-shape
                        bg-gradient-blue
                        text-white
                        rounded-circle
                        shadow
                      ">
                      <i class="ni ni-building"></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-sm">
                  <span class="text-blue mr-2"><i class="ni ni-building mr-2"></i></span>
                  <span class="text-nowrap"> Total No. of Schools</span>
                </p>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-md-6">
            <div class="card card-stats">
              <!-- Card body -->
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-orange mb-0">
                      USER
                    </h5>
                    <span class="h2 font-weight-bold mb-0">
                      {{total_users}}</span>
                  </div>
                  <div ni-circle-08 class="col-auto">
                    <div class="
                        icon icon-shape
                        bg-gradient-orange
                        text-white
                        rounded-circle
                        shadow
                      ">
                      <i class="ni ni-shop"></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-sm">
                  <span class="text-orange mr-2"><i class="ni ni-shop"></i></span>
                  <span class="text-nowrap"> Total No. of User</span>
                </p>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-md-6">
            <div class="card card-stats">
              <!-- Card body -->
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-red mb-0">
                      ROOM
                    </h5>
                    <span class="h2 font-weight-bold mb-0">{{total_room}}</span>
                  </div>
                  <div class="col-auto">
                    <div class=" icon icon-shape bg-gradient-red
                        text-white rounded-circleshadow">
                      <i class="ni ni-money-coins"></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-sm">
                  <span class="text-danger mr-2"><i class="ni ni-money-coins"></i></span>
                  <span class="text-nowrap">Total No. of Rooms</span>
                </p>
              </div>
            </div>
          </div>
          <div class="col-xl-3 col-md-6">
            <div class="card card-stats">
              <!-- Card body -->
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-success mb-0">
                      BUILDING
                    </h5>
                    <span class="h2 font-weight-bold mb-0"> {{total_building}}</span>
                  </div>
                  <div ni-circle-08 class="col-auto">
                    <div class="
                        icon icon-shape
                        bg-gradient-green
                        text-white
                        rounded-circle
                        shadow
                      ">
                      <i class="ni ni-money-coins"></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-sm">
                  <span class="text-success mr-2"><i class="ni ni-money-coins"></i></span>
                  <span class="text-nowrap"> Total No. of building</span>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Page content -->
  <div class="container-fluid mt--6">
    <div class="row">
      <div class="col-xl-12">
        <div class="card">
          <div class="card-header border-0">
            <div class="row align-items-center">
              <div class="col">
                <h3 class="mb-0">School Building Records</h3>
              </div>
              <div class="col text-right">
                <a href="/admin/school" class="btn btn-sm btn-primary">See all</a>
              </div>
            </div>
          </div>
          <div class="table-responsive">
            <!-- Projects table -->
            <table class="table align-items-center table-flush" id="admin">
              <thead class="thead-light">
                <tr>
                  <th scope="col">SCHOOLS</th>
                  <th scope="col"></th>
                  <th scope="col">SCHOOL ID</th>
                  <th scope="col">ADDRESS</th>
                  <th scope="col"></th>
                  <th scope="col">BUILDINGS</th>
                  <th scope="col">ROOMS</th>
                  <th scope="col">FACILITIES</th>
                  <th scope="col">FURNITURE</th>
                </tr>
              </thead>
              <tbody>
                {{#each all}}
                <tr>
                  <td class="text-default">{{this.schoolName}}</td>
                  <td></td>
                  <td class="text-default">{{this.schoolId}}</td>
                  <td class="text-default">{{this.address}}</td>
                  <td></td>
                  <td class="text-success">{{total_buildings}}</td>
                  <td class="text-success">{{total_rooms}}</td>
                  <td class="text-success">{{total_facilities}}</td>
                  <td class="text-success">{{total_furniture}}</td>
                </tr>
                {{/each}}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-header border-0">
            <div class="col text-right">
              <!-- <a href="" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#requestModal">Request Building</a> -->
              <!-- <a href="" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#addBuilding">Request Rooms</a>
              <a href="" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#addBuilding">Request Other Facility</a> -->
            </div>
          </div>
          <div class="table-responsive">
            <table class="table align-items-center table-flush">
              <thead class="thead-light">
                <tr>
                  <th scope="col">School</th>
                  <th scope="col">Name</th>
                  <th scope="col">Condition</th>
                  <th scope="col">Status</th>
                  <th scope="col">Note</th>
                  <th scope="col">Approved</th>
                </tr>
              </thead>
              <tbody>
                {{#each request}}
                <tr>
                  <td scope="row">{{this.school_id.schoolName}}</td>
                  <td scope="row">{{this.name}}</td>
                  <td class="text-danger">{{this.condition}}</td>
                  <td class="text-danger">{{this.status}}</td>
                  <td class="text-danger">{{this.note}}</td>
                  <td class="">
                    <button class="btn btn-sm btn-success">Approved</button>
                   
                  </td>
                </tr>
                {{/each}}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="col-sm-12">
        <!-- <div class="card">
          <div class="card-header border-0">
            <div class="row align-items-center">
              <div class="col text-right">
              </div>
            </div>
          </div>
          <div class="chart">
            <canvas id="myChart"></canvas>
          </div>
        </div> -->
      </div>
    </div>
    <div class="col-xl-5"></div>
  </div>
</div>
</div>

<!-- chart script -->
<!-- chart.js -->
<script src="https://cdnjs.com/libraries/Chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
<script src="https://www.jsdelivr.com/package/npm/chart.js"></script>
<!-- chart script -->
<script>

  chartBar();
  chartPie();

  function chartBar() {
    const ctx = document.getElementById('myChart').getContext('2d');
    const myChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
          label: '# of Votes',
          data: [12, 19, 3, 5, 2, 3],
          backgroundColor: [
            'rgba(255, 99, 132)',
            'rgba(54, 162, 235)',
            'rgba(255, 206, 86)',
            'rgba(75, 192, 192)',
            'rgba(153, 102, 255)',
            'rgba(255, 159, 64)'
          ],
          borderColor: [
            'rgba(255, 99, 132, 1)',
            'rgba(54, 162, 235, 1)',
            'rgba(255, 206, 86, 1)',
            'rgba(75, 192, 192, 1)',
            'rgba(153, 102, 255, 1)',
            'rgba(255, 159, 64, 1)'
          ],
          borderWidth: 1
        }]
      },
      options: {
        maintainAspectRatio: false,
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });
  }
  function chartPie() {
    const ctxs = document.getElementById('myCharts').getContext('2d');
    const myCharts = new Chart(ctxs, {
      type: 'pie',
      data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
          label: '# of Votes',
          data: [12, 19, 3, 5, 2, 3],
          backgroundColor: [
            'rgba(255, 99, 132)',
            'rgba(54, 162, 235)',
            'rgba(255, 206, 86)',
            'rgba(75, 192, 192)',
            'rgba(153, 102, 255)',
            'rgba(255, 159, 64)'
          ],
          borderColor: [
            'rgba(255, 99, 132)',
            'rgba(54, 162, 235)',
            'rgba(255, 206, 86)',
            'rgba(75, 192, 192)',
            'rgba(153, 102, 255)',
            'rgba(255, 159, 64)'
          ],
          borderWidth: 1,
          hoverOffset: 4
        }]
      },
      options: {
        maintainAspectRatio: false,
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });
  }
</script>
<script>
  $(document).ready(function () {
      $('#admin').DataTable({
          dom: 'lBfrtip',
      buttons: [
          'copyHtml5',
          'excelHtml5',
      ],
      stateSave: true,
      });
  });
</script>
